<!DOCTYPE html>
<html>
  <head>
    <title>Pie Chart</title>
    <script type="text/javascript" src="d3/d3.v2.js"></script>
    <script type="text/javascript" src="data.js"></script>
	<script type="text/javascript" src="parenting.js"></script>
	<script type="text/javascript" src="viewstate.js"></script>
    <script type="text/javascript" src="viewobj.js"></script>
	<script type="text/javascript" src="events.js"></script>
<link rel="stylesheet" href="vis-gen.css" />
    <style type="text/css">

body {
  font: 10px sans-serif;
}

circle.axis_circle {
  fill: none;
  stroke: #777;
}

.wedge {
  opacity: 0.8;
}
    </style>
  </head>
  <body>
<div style="float:right;">
<a href="#" onClick="javascript:viewstate.zoom(4/3); return false;">Zoom in</a><br/>
<a href="#" onClick="javascript:viewstate.zoom(3/4); return false;">Zoom out</a><br/>
Arrow keys scroll the view.
<hr />
<input type="button" onClick="javascript:priviewobj.render({'name':'defaultSectorRenderer','aggregateFilter':function(aggregate) { return aggregate.name=='Revenue' }});" value="Cth Revenue"/><br />
  <input type="button" onClick="javascript:priviewobj.render({'name':'defaultSectorRenderer','aggregateFilter':function(aggregate) { return aggregate.name=='Revenue' || aggregate.name=='Expenses' }});" value="Cth Revenue &amp; Expenditure"/><br />
  <input type="button" onClick="javascript:priviewobj.render({'name':'defaultSectorRenderer'});" value="Cth R.E.A.L."/><br />
  <select onChange="javascript:periodChange(this);">
	<option value="2010-11">2010-11</option>
	<option value="2011-12" selected="selected">2011-12</option>
  </select>
<br/>

  </div>
  <script type="text/javascript">
  
	function periodChange(sel) {
	  var chosenoption=sel.options[sel.selectedIndex];
      priviewobj.period(chosenoption.value);
	  priviewobj.render();
	}

  window.viewstate=new ViewState(d3.select("body").append("svg"));
  
  priviewobj = new ViewObj( cth_fbo, viewstate, [0,0] );
  priviewobj.period('2011-12');
  priviewobj.render();
  </script>

  </body>
</html>
